(this.webpackJsonpmuigame=this.webpackJsonpmuigame||[]).push([[0],{119:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),i=a.n(c),r=a(16),s=a.n(r),o=(a(119),a(14)),l=a(18),j=a(225),d=a(204),b=a(210),u=a(211),m=a(230),h=a(212),O=a(66),g=a.n(O),x=a(8),f=a(21);a(166),a(120),a(123),a(167);f.a.initializeApp({apiKey:"AIzaSyCf3T7TF5CtEgkcfb9IHV0-_t2DOR1RsF0",authDomain:"gameshop-e5678.firebaseapp.com",databaseURL:"https://gameshop-e5678.firebaseio.com",projectId:"gameshop-e5678",storageBucket:"gameshop-e5678.appspot.com",messagingSenderId:"643516141580",appId:"1:643516141580:web:eabdb4896cef3979cbde29"});f.a.storage();var p=f.a.firestore(),v=f.a.auth(),y=f.a.functions(),C=a(168),w=a(208),k=a(209),S=a(95),N=a.n(S),z=a(94),E=a.n(z),I=function(e,t){var a=Object(c.useState)([]),n=Object(x.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){var a=p.collection(e).doc(t).onSnapshot((function(e){e.exists&&void 0!==e.data().list?(r(e.data().list),j(e.data().total)):(r([]),j(0))}));return function(){return a()}}),[e,t]),[i,l]},W=a(93),T=a.n(W),A=Object(d.a)((function(e){return{icon:{marginRight:e.spacing(2)},links:{display:"flex",alignItems:"center",flexWrap:"wrap"},cartColor:{color:"#ffffff"},snackColor:{backgroundColor:"#ccff90"}}})),P=function(e){var t=e.id,a=A(),i=I("carts",t),r=Object(x.a)(i,1)[0],s=I("wishlists",t),l=Object(x.a)(s,1)[0],j=Object(c.useState)(0),d=Object(x.a)(j,2),b=d[0],u=d[1],m=Object(c.useState)(0),h=Object(x.a)(m,2),O=h[0],g=h[1];Object(c.useEffect)((function(){u(r.length),g(l.length)}),[r,l]);return Object(n.jsxs)("div",{className:a.links,children:[Object(n.jsx)(C.a,{"aria-label":"orders",className:a.cartColor,component:o.b,to:"/orders/"+t,children:Object(n.jsx)(T.a,{})}),Object(n.jsx)(C.a,{"aria-label":"wish",className:a.cartColor,component:o.b,to:"/wishlist/"+t,children:Object(n.jsx)(w.a,{badgeContent:O,color:"error",className:a.icon,children:Object(n.jsx)(E.a,{})})}),Object(n.jsx)(C.a,{"aria-label":"cart",className:a.cartColor,component:o.b,to:"/cart/"+t,children:Object(n.jsx)(w.a,{badgeContent:b,color:"error",className:a.icon,children:Object(n.jsx)(N.a,{})})}),Object(n.jsx)(k.a,{color:"inherit",onClick:function(){v.signOut().then((function(){console.log("Logged out")}))},children:"Logout"})]})},F=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{component:o.b,to:"/login",color:"inherit",children:"Login"}),Object(n.jsx)(k.a,{component:o.b,to:"/signup",color:"inherit",children:"Signup"})]})},R=Object(c.createContext)(),D=function(e){var t=Object(c.useState)(null),a=Object(x.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(!0),o=Object(x.a)(s,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){v.onAuthStateChanged((function(e){r(e),j(!1)}))})),Object(n.jsx)(R.Provider,{value:{currentUser:i,isLoading:l},children:e.children})},H=Object(d.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},logo:{marginRight:e.spacing(2),backgroundColor:"#ffffff"}}})),L=function(){var e=H(),t=Object(c.useContext)(R).currentUser;return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(b.a,{position:"static",children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(m.a,{className:e.logo,component:o.b,to:"/",children:Object(n.jsx)(g.a,{color:"primary"})}),Object(n.jsx)(h.a,{varaiant:"h6",className:e.title,children:"Games"}),t?Object(n.jsx)(P,{id:t.uid}):Object(n.jsx)(F,{})]})})})},G=a(29),B=a(231),M=a(213),U=a(214),V=a(96),_=a.n(V),K=a(97),q=Object(K.autoPlay)(_.a),Y=[{id:"mfUIPUkPMwyLC6oQQfGY",label:"Crusader Kings III",description:"Paradox Development Studio brings you the sequel to one of the most popular strategy games ever made. Crusader Kings III is the heir to a long legacy of historical grand strategy experiences and arrives with a host of new ways to ensure the success of your royal house.",imgPath:"https://firebasestorage.googleapis.com/v0/b/gameshop-e5678.appspot.com/o/Crusader%20Kings%20III.jpg?alt=media&token=f8e99dcb-4e74-4065-a97e-f33b2bc83166"},{id:"NbMxhzpft1Dkx1LYXEFl",label:"Red Dead Redemption 2",description:"Winner of over 175 Game of the Year Awards and recipient of over 250 perfect scores, RDR2 is the epic tale of outlaw Arthur Morgan and the infamous Van der Linde gang, on the run across America at the dawn of the modern age. Also includes access to the shared living world of Red Dead Online.",imgPath:"https://firebasestorage.googleapis.com/v0/b/gameshop-e5678.appspot.com/o/Red%20Dead%20Redemption%202.jpg?alt=media&token=c20aa206-7665-4075-a513-30ce0ee753d5"},{id:"2t3otfsIpowv32VA2VlC",label:"Assetto Corsa",description:'Assetto Corsa v1.16 introduces the new "Laguna Seca" laser-scanned track, 7 new cars among which the eagerly awaited Alfa Romeo Giulia Quadrifoglio! Check the changelog for further info!',imgPath:"https://firebasestorage.googleapis.com/v0/b/gameshop-e5678.appspot.com/o/ac.jpg?alt=media&token=67ad157c-b337-44d4-931b-1e773460ea13"},{id:"sJ2ndXFF0rET7NX81sHj",label:"Monster Hunter: World",description:"Welcome to a new world! In Monster Hunter: World, the latest installment in the series, you can enjoy the ultimate hunting experience, using everything at your disposal to hunt monsters in a new world teeming with surprises and excitement.",imgPath:"https://firebasestorage.googleapis.com/v0/b/gameshop-e5678.appspot.com/o/mhw.jpg?alt=media&token=ef038be0-d656-4d6b-8884-13be9e870ef3"},{id:"z5pR630oRSvaXtDzlVhu",label:"Ni no Kuni Wrath of the White Witch\u2122 Remastered",description:"Journey back to the other world in Ni no Kuni: Wrath of the White Witch\u2122 Remastered. LEVEL-5\u2019s classic tale returns better than ever, with improved graphics and performance.",imgPath:"https://firebasestorage.googleapis.com/v0/b/gameshop-e5678.appspot.com/o/Ni%20no%20Kuni%20Wrath%20of%20the%20White%20Witch%E2%84%A2%20Remastered.jpg?alt=media&token=41add9ee-b7c5-4715-8030-2df765431622"}],$=Object(d.a)((function(e){return{img:{margin:10,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",cursor:"pointer"},description:{margin:"auto",width:"30%"},root:{marginTop:5,display:"flex",justifyContent:"space-between"}}})),Q=function(){var e=$(),t=Object(G.a)(),a=Object(c.useState)(0),i=Object(x.a)(a,2),r=i[0],s=i[1],o=Y.length,j=Object(l.g)(),d=function(e){j.push("/game/"+e)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(q,{axis:"rtl"===t.direction?"x-reverse":"x",index:r,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,children:Y.map((function(t,a){return Object(n.jsx)("div",{children:Math.abs(r-a)<=2?Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)("img",{className:e.img,src:t.imgPath,alt:t.label,onClick:function(){return d(t.id)}}),Object(n.jsxs)("div",{className:e.description,children:[Object(n.jsx)(h.a,{variant:"h4",color:"primary",paragraph:!0,children:t.label}),Object(n.jsx)(h.a,{variant:"body1",paragraph:!0,children:t.description}),Object(n.jsx)(k.a,{color:"primary",size:"medium",onClick:function(){return d(t.id)},children:"LEARN MORE"})]})]}):null},t.id)}))}),Object(n.jsx)(B.a,{steps:o,position:"static",variant:"dots",activeStep:r,nextButton:Object(n.jsxs)(k.a,{size:"small",onClick:function(){s((function(e){return e+1}))},disabled:r===o-1,children:["Next","rtl"===t.direction?Object(n.jsx)(M.a,{}):Object(n.jsx)(U.a,{})]}),backButton:Object(n.jsxs)(k.a,{size:"small",onClick:function(){s((function(e){return e-1}))},disabled:0===r,children:["rtl"===t.direction?Object(n.jsx)(U.a,{}):Object(n.jsx)(M.a,{}),"Back"]})})]})},J=a(39),X=function(e){var t=Object(c.useState)([]),a=Object(x.a)(t,2),n=a[0],i=a[1];return Object(c.useEffect)((function(){var t=p.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(J.a)(Object(J.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:n}},Z=a(217),ee=a(218),te=a(219),ae=a(220),ne=a(221),ce=a(222),ie=a(223),re=a(232),se=a(216),oe=a(35),le=a.n(oe),je=a(98),de=a.n(je),be=Object(d.a)((function(e){return{snackwarning:{backgroundColor:"#ff5252"},snacksuccess:{backgroundColor:"#2196f3"},snackalready:{backgroundColor:"#ffeb3b",color:"#212121"}}})),ue=function(e){var t=e.name,a=e.game,r=Object(c.useContext)(R).currentUser,s=Object(c.useState)(!1),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(!1),b=Object(x.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(!1),O=Object(x.a)(h,2),g=O[0],v=O[1],y=Object(c.useState)(!1),w=Object(x.a)(y,2),S=w[0],N=w[1],z=p.collection("carts"),E=be(),I=function(e,t){"clickaway"!==t&&(j(!1),m(!1),v(!1),N(!1))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{onClick:function(){return function(e){r?z.doc(r.uid).get().then((function(t){if(t.exists&&0!==t.data().list.length)for(var a=0;a<t.data().list.length;a++){if(t.data().list[a].id===e.id){N(!0);break}a===t.data().list.length-1&&z.doc(r.uid).update({list:f.a.firestore.FieldValue.arrayUnion(e),total:f.a.firestore.FieldValue.increment(e.price)}).then((function(){console.log("Game added to cart"),j(!0),m(!1),v(!1)})).catch((function(e){console.log("Error adding to cart: ",e),m(!0),v(!1),j(!1)}))}else z.doc(r.uid).set({list:[e],total:f.a.firestore.FieldValue.increment(e.price)}).then((function(){console.log("Game added to cart"),j(!0),m(!1),v(!1)})).catch((function(e){console.log("Error adding to cart: ",e),m(!0),v(!1),j(!1)}))})).catch((function(e){console.log("Error getting carts: ",e)})):(console.log("Please login"),j(!1),m(!1),v(!0))}(a)},size:"small",color:"primary",variant:"contained",startIcon:Object(n.jsx)(de.a,{}),children:t}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:S,autoHideDuration:3e3,onClose:I,children:Object(n.jsx)(se.a,{message:"Game already in cart.",className:E.snackalready,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:I,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:g,autoHideDuration:3e3,onClose:I,children:Object(n.jsx)(se.a,{message:"Please Login.",className:E.snackwarning,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:I,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:l,autoHideDuration:3e3,onClose:I,children:Object(n.jsx)(se.a,{message:"Game added to cart.",className:E.snacksuccess,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:I,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:u,autoHideDuration:3e3,onClose:I,children:Object(n.jsx)(se.a,{message:"Error adding to cart.",className:E.snackwarning,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:I,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})})]})},me=Object(d.a)((function(e){return{root:{flexGrow:1},title:{marginTop:15,marginBottom:10},card_buttons:{display:"flex",justifyContent:"space-between"},media:{paddingTop:"56.25%"},card_background:{backgroundColor:"#e8eaf6"}}})),he=function(){var e=me(),t=X("games").docs,a=Object(l.g)(),c=function(e){a.push("/game/"+e)};return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(Z.a,{}),Object(n.jsx)(h.a,{className:e.title,gutterBottom:!0,align:"left",variant:"h5",color:"primary",children:"Featured Games"}),Object(n.jsx)(ee.a,{container:!0,spacing:3,children:t&&t.map((function(t){return Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(te.a,{variant:"outlined",children:[Object(n.jsxs)(ae.a,{onClick:function(){return c(t.id)},children:[Object(n.jsx)(ne.a,{className:e.media,image:t.img,title:t.name}),Object(n.jsxs)(ce.a,{className:e.card_background,children:[Object(n.jsx)(h.a,{gutterBottom:!0,variant:"h6",noWrap:!0,title:t.name,children:t.name}),Object(n.jsxs)(h.a,{variant:"h6",color:"primary",align:"right",children:["$",t.price/100]})]})]}),Object(n.jsxs)(ie.a,{className:e.card_buttons,children:[Object(n.jsx)(k.a,{size:"small",color:"primary",onClick:function(){return c(t.id)},children:"Learn More"}),Object(n.jsx)(ue,{game:t,name:"Add",id:t.id})]})]})},t.id)}))})]})},Oe=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Q,{}),Object(n.jsx)(he,{})]})},ge=a(229),xe=a(233),fe=a(224),pe=Object(d.a)((function(e){return{formArea:{height:"80vh",textAlign:"center"},fields:{margin:"15px"},textColor:{color:"#3f51b5"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#e0e0e0"}}})),ve=function(){var e=pe(),t=Object(c.useContext)(R),a=t.currentUser,i=t.isLoading,r=Object(c.useState)(""),s=Object(x.a)(r,2),o=s[0],j=s[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),O=Object(x.a)(h,2),g=O[0],f=O[1],y=Object(c.useState)(""),C=Object(x.a)(y,2),w=C[0],S=C[1],N=Object(c.useState)(""),z=Object(x.a)(N,2),E=z[0],I=z[1],W=Object(c.useState)(""),T=Object(x.a)(W,2),A=T[0],P=T[1],F=Object(c.useState)(!1),D=Object(x.a)(F,2),H=D[0],L=D[1];return i?Object(n.jsx)("h3",{children:"Loading..."}):a?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)(ee.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",className:e.formArea,children:[Object(n.jsx)(ee.a,{item:!0,xs:6,sm:3,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L(!0),u===g?(v.createUserWithEmailAndPassword(o,u).then((function(e){p.collection("carts").doc(e.user.uid).set({list:[],total:0}).then((function(){console.log("Total in carts created.")})).catch((function(e){console.log("Error creating total in carts: ",e)})),j("")})).catch((function(e){switch(e.code){case"auth/email-already-in-use":I(e.message),P("");break;case"auth/invalid-email":I(e.message);break;case"auth/weak-password":P(e.message),I("");break;default:I(e.message),P("")}L(!1)})),m(""),f(""),S("")):(S("The password confirmation does not match."),P(""),I(""),L(!1))},children:[Object(n.jsx)("h1",{className:e.textColor,children:"Sign Up"}),Object(n.jsx)("div",{className:e.fields,children:Object(n.jsx)(ge.a,{required:!0,error:0!==E.length,id:"email",label:"Email",variant:"outlined",value:o,helperText:E,fullWidth:!0,onChange:function(e){return j(e.target.value)}})}),Object(n.jsx)("div",{className:e.fields,children:Object(n.jsx)(ge.a,{required:!0,error:0!==A.length,id:"password",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",value:u,helperText:A,fullWidth:!0,onChange:function(e){return m(e.target.value)}})}),Object(n.jsx)("div",{className:e.fields,children:Object(n.jsx)(ge.a,{error:0!==w.length,required:!0,id:"confirm",label:"Confirm Password",type:"password",autoComplete:"current-password",variant:"outlined",value:g,helperText:w,fullWidth:!0,onChange:function(e){return f(e.target.value)}})}),Object(n.jsx)(k.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})]})}),Object(n.jsx)(xe.a,{className:e.backdrop,open:H,onClick:function(){return L(!1)},children:Object(n.jsx)(fe.a,{color:"inherit"})})]})},ye=Object(d.a)((function(e){return{formArea:{minHeight:"80vh",textAlign:"center"},fields:{margin:"15px"},textColor:{color:"#3f51b5"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#e0e0e0"}}})),Ce=function(){var e=Object(c.useContext)(R),t=e.currentUser,a=e.isLoading,i=ye(),r=Object(c.useState)(""),s=Object(x.a)(r,2),o=s[0],j=s[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),O=Object(x.a)(h,2),g=O[0],f=O[1],p=Object(c.useState)(""),y=Object(x.a)(p,2),C=y[0],w=y[1],S=Object(c.useState)(!1),N=Object(x.a)(S,2),z=N[0],E=N[1];return a?Object(n.jsx)("h1",{children:"Loading..."}):t?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)(ee.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",className:i.formArea,children:[Object(n.jsx)(ee.a,{item:!0,xs:6,sm:3,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(!0),v.signInWithEmailAndPassword(o,u).then((function(e){return Object(n.jsx)(l.a,{to:"/"})})).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":f(e.message),w("");break;default:w(e.message),f("")}E(!1)})),j(""),m("")},children:[Object(n.jsx)("h1",{className:i.textColor,children:"Login"}),Object(n.jsx)("div",{className:i.fields,children:Object(n.jsx)(ge.a,{required:!0,error:0!==g.length,id:"email",label:"Email",variant:"outlined",type:"email",value:o,helperText:g,fullWidth:!0,onChange:function(e){return j(e.target.value)}})}),Object(n.jsx)("div",{className:i.fields,children:Object(n.jsx)(ge.a,{required:!0,error:0!==C.length,id:"password",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",value:u,helperText:C,fullWidth:!0,onChange:function(e){return m(e.target.value)}})}),Object(n.jsx)(k.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})]})}),Object(n.jsx)(xe.a,{className:i.backdrop,open:z,onClick:function(){return E(!1)},children:Object(n.jsx)(fe.a,{color:"inherit"})})]})},we=a(99),ke=a.n(we),Se=function(e){var t=e.name,a=e.id,r=e.game,s=p.collection(t).doc(a),o=Object(c.useState)(!1),l=Object(x.a)(o,2),j=l[0],d=l[1],b=function(e,t){"clickaway"!==t&&d(!1)};return Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(n.jsx)(k.a,{color:"secondary",size:"small",onClick:function(){s.update({list:f.a.firestore.FieldValue.arrayRemove(r),total:f.a.firestore.FieldValue.increment(-r.price)}),d(!0)},children:"Remove"}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j,autoHideDuration:2e3,onClose:b,message:"Game removed successfully.",action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:b,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})]})},Ne=Object(d.a)((function(e){return{root:{minHeight:"80vh"},img:{maxWidth:"100%",maxHeight:"100%"},cart:{marginTop:15,marginBottom:10}}})),ze=function(){var e=Object(l.g)(),t=Object(l.i)().id,a=Ne(),i=I("carts",t),r=Object(x.a)(i,2),s=r[0],d=r[1],b=Object(c.useState)(!1),u=Object(x.a)(b,2),m=u[0],O=u[1],g=p.collection("stripe");Object(c.useEffect)((function(){O(0===d)}),[d]);return Object(n.jsxs)(j.a,{maxWidth:"md",className:a.root,children:[Object(n.jsx)(ke.a,{className:a.cart,fontSize:"large",color:"primary"}),s&&s.map((function(e,c){return Object(n.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)("img",{className:a.img,src:e.img,alt:e.name})}),Object(n.jsxs)(ee.a,{container:!0,item:!0,sm:3,direction:"column",alignItems:"center",justify:"center",children:[Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{variant:"subtitle1",noWrap:!0,title:e.name,children:e.name})}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(k.a,{size:"small",color:"primary",component:o.b,to:"/game/"+e.id,children:"View Detail"})})]}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(h.a,{variant:"subtitle1",align:"center",children:["$",e.price/100]})}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(Se,{name:"carts",id:t,game:e})})]},c)})),Object(n.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",className:a.cart,children:[Object(n.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(h.a,{variant:"h5",color:"primary",children:"Total:"})}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(h.a,{variant:"h5",color:"primary",align:"center",children:["$",d/100]})}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,align:"center",children:Object(n.jsx)(k.a,{color:"primary",size:"small",variant:"contained",disabled:m,onClick:function(){g.add({total:d,uid:t,paid:!1}).then((function(a){console.log("Stripe Document successfully created!"),e.push({pathname:"/checkout/"+t+"/"+a.id,state:{price:{total:d},games:{docs:s}}})})).catch((function(e){console.log("Error creating stripe document: ",e)}))},children:"checkout"})})]})]})},Ee=Object(d.a)((function(e){return{root:{flexGrow:1,marginTop:20,marginBottom:20},logo:{marginRight:e.spacing(2)},footer:{marginTop:5,marginBottom:5,display:"flex",justifyContent:"center",alignItems:"center"}}})),Ie=function(){var e=Ee();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(Z.a,{}),Object(n.jsxs)("div",{className:e.footer,children:[Object(n.jsx)(m.a,{className:e.logo,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(h.a,{children:"\xa9 2020 Games. All rights reserved."})]}),Object(n.jsx)(Z.a,{})]})},We=a(234),Te=a(226),Ae=a(102),Pe=a.n(Ae),Fe=a(101),Re=a.n(Fe),De=a(100),He=a.n(De),Le=Object(d.a)((function(e){return{snackwarning:{backgroundColor:"#ff5252"},snacksuccess:{backgroundColor:"#9575cd"},button:{marginRight:15}}})),Ge=function(e){var t=e.name,a=e.game,r=Object(c.useContext)(R).currentUser,s=Object(c.useState)(!1),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(!1),b=Object(x.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(!1),O=Object(x.a)(h,2),g=O[0],v=O[1],y=p.collection("wishlists"),w=Le(),S=function(e,t){"clickaway"!==t&&(j(!1),m(!1),v(!1))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{onClick:function(){return function(e){r?y.doc(r.uid).get().then((function(t){t.exists?y.doc(r.uid).update({list:f.a.firestore.FieldValue.arrayUnion(e)}).then((function(){console.log("Game added to wishlist"),j(!0),m(!1),v(!1)})).catch((function(e){console.log("Error adding to wishlist: ",e),m(!0),v(!1),j(!1)})):y.doc(r.uid).set({list:[e]}).then((function(){console.log("Game added to wishlist"),j(!0),m(!1),v(!1)})).catch((function(e){console.log("Error adding to wishlist: ",e),m(!0),v(!1),j(!1)}))})).catch((function(e){console.log("Error gettting wishlists: ",e)})):(console.log("Please login"),j(!1),m(!1),v(!0))}(a)},className:w.button,size:"small",color:"secondary",variant:"contained",startIcon:Object(n.jsx)(He.a,{}),children:t}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:g,autoHideDuration:3e3,onClose:S,children:Object(n.jsx)(se.a,{message:"Please Login.",className:w.snackwarning,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:S,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:l,autoHideDuration:3e3,onClose:S,children:Object(n.jsx)(se.a,{message:"Game added to wishlist.",className:w.snacksuccess,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:S,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})}),Object(n.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:u,autoHideDuration:3e3,onClose:S,children:Object(n.jsx)(se.a,{message:"Error adding to wishlist.",className:w.snackwarning,action:Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(C.a,{size:"small","aira-label":"close",color:"inherit",onClick:S,children:Object(n.jsx)(le.a,{fontSize:"small"})})})})})]})},Be=Object(d.a)((function(e){return{root:{marginTop:25},description:{backgroundColor:"#e8eaf6"},divider:{marginTop:25,marginBottom:25},image:{maxWidth:"100%"},about:{whiteSpace:"pre-wrap"},buttonSection:{marginTop:5},chips:{marginRight:5,marginBottom:5},show:{display:"flex",justifyContent:"flex-end"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#e0e0e0"}}})),Me=function(){var e=Object(l.i)().id,t=Object(c.useState)({}),a=Object(x.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(""),o=Object(x.a)(s,2),d=o[0],b=o[1],u=Object(c.useState)([]),m=Object(x.a)(u,2),O=m[0],g=m[1],f=Object(c.useState)(!1),v=Object(x.a)(f,2),y=v[0],C=v[1],w=Be(),S=Object(c.useState)(!0),N=Object(x.a)(S,2),z=N[0],E=N[1],I=Object(c.useState)(""),W=Object(x.a)(I,2),T=W[0],A=W[1];Object(c.useEffect)((function(){p.collection("games").doc(e).get().then((function(t){t.exists?(r(Object(J.a)(Object(J.a)({},t.data()),{},{id:e})),b(t.data().about.replaceAll("\\n","\n")),g(t.data().tags),E(!1),A(null)):(console.log("No such data"),A("Error, game does not exist!"),E(!1))}))}),[e]);var P=function(){C((function(e){return!e}))};return Object(n.jsxs)("div",{children:[T&&Object(n.jsx)("h1",{children:T}),!T&&Object(n.jsxs)(j.a,{children:[Object(n.jsx)("div",{className:w.root,children:Object(n.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(n.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)("img",{className:w.image,src:i.img,alt:""})}),Object(n.jsxs)(ee.a,{container:!0,item:!0,xs:12,sm:6,children:[Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:i.name})}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{variant:"caption",gutterBottom:!0,children:i.description})}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:O&&O.map((function(e,t){return Object(n.jsx)(We.a,{className:w.chips,size:"small",label:e},t)}))}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsxs)(h.a,{variant:"h6",children:["$",i.price/100]})}),Object(n.jsxs)(ee.a,{container:!0,item:!0,xs:12,sm:6,className:w.buttonSection,children:[Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsx)(Ge,{name:"Wishlist",game:i})}),Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsx)(ue,{name:"add to cart",game:i})})]})]})]})}),Object(n.jsx)(Z.a,{className:w.divider}),Object(n.jsx)(h.a,{variant:"h6",align:"left",gutterBottom:!0,children:"ABOUT THE GAME"}),Object(n.jsx)(Te.a,{in:y,collapsedHeight:300,children:Object(n.jsx)(h.a,{className:w.about,variant:"body2",align:"left",children:d})}),Object(n.jsx)("div",{className:w.show,children:y?Object(n.jsx)(k.a,{onClick:P,color:"primary",size:"medium",startIcon:Object(n.jsx)(Re.a,{}),children:"SHOW LESS"}):Object(n.jsx)(k.a,{onClick:P,color:"primary",size:"medium",startIcon:Object(n.jsx)(Pe.a,{}),children:"SHOW MORE"})})]}),Object(n.jsx)(xe.a,{className:w.backdrop,open:z,children:Object(n.jsx)(fe.a,{color:"inherit"})})]})},Ue=a(103),Ve=a.n(Ue),_e=Object(d.a)((function(e){return{root:{minHeight:"80vh"},img:{maxWidth:"100%",maxHeight:"100%"},cart:{marginTop:15,marginBottom:10}}})),Ke=function(){var e=Object(l.i)().id,t=_e(),a=I("wishlists",e),c=Object(x.a)(a,1)[0];return Object(n.jsxs)(j.a,{maxWidth:"md",className:t.root,children:[Object(n.jsx)(Ve.a,{color:"primary",fontSize:"large",className:t.cart}),c&&c.map((function(a,c){return Object(n.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)("img",{className:t.img,src:a.img,alt:a.name})}),Object(n.jsxs)(ee.a,{container:!0,item:!0,sm:3,direction:"column",alignItems:"center",justify:"center",children:[Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{variant:"subtitle1",noWrap:!0,title:a.name,children:a.name})}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(k.a,{size:"small",color:"primary",component:o.b,to:"/game/"+a.id,children:"View Detail"})})]}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(h.a,{variant:"subtitle1",align:"center",children:["$",a.price/100]})}),Object(n.jsxs)(ee.a,{container:!0,item:!0,xs:12,sm:3,direction:"column",alignItems:"center",justify:"center",children:[Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(ue,{name:"add to cart",game:a})}),Object(n.jsx)(ee.a,{item:!0,xs:12,children:Object(n.jsx)(Se,{name:"wishlists",id:e,game:a})})]})]},c)}))]})},qe=a(107),Ye=function(e){var t=e.component,a=Object(qe.a)(e,["component"]),i=Object(c.useContext)(R).currentUser;return Object(n.jsx)(l.b,Object(J.a)(Object(J.a)({},a),{},{render:function(e){return i?Object(n.jsx)(t,Object(J.a)({},e)):Object(n.jsx)(l.a,{to:"/login"})}}))},$e=function(){return Object(n.jsx)("h1",{children:"404 NOT FOUND"})},Qe=a(104),Je=a(44),Xe=a(84),Ze=a.n(Xe),et=a(105),tt=Object(d.a)((function(e){return{form_section:{minHeight:"80vh",textAlign:"center"},pay:{margin:"1em"}}})),at=function(){var e=Object(l.i)().sid,t=Object(l.i)().id,a=Object(l.g)(),i=Object(c.useState)(0),r=Object(x.a)(i,2),s=r[0],o=r[1],j=Object(c.useState)(null),d=Object(x.a)(j,2),b=d[0],u=d[1],m=tt(),O=Object(l.h)(),g=Object(Je.useElements)(),v=Object(Je.useStripe)(),C=Object(c.useState)(!1),w=Object(x.a)(C,2),S=w[0],N=w[1],z=Object(c.useState)({}),E=Object(x.a)(z,2),I=E[0],W=E[1],T=p.collection("carts").doc(t),A=p.collection("orders").doc(t),P=p.collection("stripe").doc(e);Object(c.useEffect)((function(){o(O.state.price.total),W({order:e,games:O.state.games.docs,time:Date.now()})}),[O,e]);var F=function(){var n=Object(et.a)(Ze.a.mark((function n(c){var i,r,s,o;return Ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),N(!0),n.next=4,v.createPaymentMethod({type:"card",card:g.getElement(Je.CardElement)});case 4:if(i=n.sent,r=i.error,s=i.paymentMethod,r)u("Card info incorrect."),N(!1);else{o=s.id;try{y.httpsCallable("paymentFunc")({id:o,stripe_id:e}).then((function(n){"succeeded"===n.data.status&&(u(null),T.update({list:[],total:0}).then((function(){console.log("Cart is now empty.")})).catch((function(e){console.log("Error removing items from cart: ",e)})),P.update({paid:!0}).then((function(){console.log("Stripe doc set to paid."),a.push("/finish/"+t+"/"+e)})).catch((function(e){console.log("Error setting stripe paid value: ",e)})),A.get().then((function(e){e.exists?A.update({orders:f.a.firestore.FieldValue.arrayUnion(I)}).then((function(){console.log("History orders in firestore updated.")})).catch((function(e){console.log("Error updating history orders in firestore: ",e)})):A.set({orders:[I]}).then((function(){console.log("History orders in firestore updated.")})).catch((function(e){console.log("Error updating history orders in firestore: ",e)}))})))})).catch((function(e){u("Purchase Failed."),N(!1)}))}catch(r){u("Payment not working properly."),N(!1)}}case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(n.jsx)(ee.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",className:m.form_section,children:Object(n.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(n.jsxs)("form",{onSubmit:F,children:[Object(n.jsx)("h3",{children:"BILLING INFORMATION"}),Object(n.jsx)(ge.a,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,label:"Name"}),Object(n.jsx)(ge.a,{variant:"filled",margin:"normal",type:"email",required:!0,fullWidth:!0,label:"Email"}),Object(n.jsx)(ge.a,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,label:"Phone"}),Object(n.jsx)("h3",{children:"PAYMENT"}),Object(n.jsx)(Je.CardElement,{options:{style:{base:{color:"#3443eb",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"18px","::placeholder":{color:"#3443eb"}}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}),b&&Object(n.jsx)(h.a,{color:"error",children:b}),Object(n.jsxs)(k.a,{disabled:S,variant:"contained",type:"submit",color:"primary",className:m.pay,size:"large",children:["Pay $",s/100]}),S&&Object(n.jsx)(h.a,{variant:"h6",color:"primary",children:"Processing..."}),Object(n.jsx)(h.a,{variant:"body2",children:"Test payment: Card#: 4242424242424242, CVC: Any 3 digits, Date: any future date"})]})})})},nt=Object(Qe.a)("pk_test_51IPCeuAfgGgouaA6RYiV6GPKHglcz34rcSf2aGomRMLs0xj4huG9MNGoQ0ifBlKYw2EKz13PlQ1xT52LMNNguCPY00Pr0oYZcm"),ct=function(){return Object(n.jsx)(Je.Elements,{stripe:nt,children:Object(n.jsx)(at,{})})},it=function(){var e=Object(l.i)().sid,t=Object(l.g)();return Object(c.useEffect)((function(){var e=setTimeout((function(){t.push("/")}),5e3);return function(){return clearTimeout(e)}}),[t]),Object(n.jsxs)("div",{style:{textAlign:"center",minHeight:"80vh"},children:[Object(n.jsxs)("h2",{children:["Order#: ",e]}),Object(n.jsx)("h2",{children:"Thank you for your purchase!"}),Object(n.jsx)("h3",{children:"Return to homepage after 5 seconds..."})]})},rt=a(235),st=a(227),ot=a(228),lt=function(e){var t=Object(c.useState)([]),a=Object(x.a)(t,2),n=a[0],i=a[1];return Object(c.useEffect)((function(){var t=p.collection("orders").doc(e).onSnapshot((function(e){e.exists?i(e.data().orders):i([])}));return function(){return t()}}),[e]),[n]},jt=a(106),dt=a.n(jt),bt=Object(d.a)((function(e){return{root:{minHeight:"80vh"},img:{maxWidth:"60%",maxHeight:"60%"},cart:{marginTop:15,marginBottom:10},title:{flexBasis:"70%"},details:{flexDirection:"column"},grid_border:{backgroundColor:"#dcedc8"}}})),ut=function(){var e=Object(l.i)().id,t=bt(),a=lt(e),c=Object(x.a)(a,1)[0];return Object(n.jsxs)(j.a,{maxWidth:"md",className:t.root,children:[Object(n.jsx)("h1",{className:t.cart,children:"Orders: "}),c&&c.map((function(e,a){return Object(n.jsxs)(rt.a,{children:[Object(n.jsxs)(st.a,{expandIcon:Object(n.jsx)(dt.a,{}),children:[Object(n.jsxs)(h.a,{className:t.title,children:["Order#: ",e.order]}),Object(n.jsxs)(h.a,{children:["Time: ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.time)]})]}),Object(n.jsx)(ot.a,{className:t.details,children:e.games.map((function(e,a){return Object(n.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",justify:"center",className:t.grid_border,children:[Object(n.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)("img",{className:t.img,src:e.img,alt:e.name})}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(h.a,{align:"center",variant:"subtitle1",noWrap:!0,title:e.name,children:e.name})}),Object(n.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(n.jsxs)(h.a,{align:"center",variant:"body2",children:["$",e.price/100]})})]},a)}))})]},a)}))]})};var mt=function(){return Object(c.useEffect)((function(){document.title="Games"})),Object(n.jsx)(o.a,{children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(D,{children:[Object(n.jsx)(L,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:Oe}),Object(n.jsx)(l.b,{path:"/signup",component:ve}),Object(n.jsx)(l.b,{path:"/login",component:Ce}),Object(n.jsx)(Ye,{path:"/cart/:id",component:ze}),Object(n.jsx)(l.b,{path:"/game/:id",component:Me}),Object(n.jsx)(Ye,{path:"/wishlist/:id",component:Ke}),Object(n.jsx)(Ye,{path:"/checkout/:id/:sid",component:ct}),Object(n.jsx)(Ye,{path:"/finish/:id/:sid",component:it}),Object(n.jsx)(Ye,{path:"/orders/:id",component:ut}),Object(n.jsx)(l.b,{path:"*",component:$e})]}),Object(n.jsx)(Ie,{})]})})})},ht=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,236)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(mt,{})}),document.getElementById("root")),ht()}},[[165,1,2]]]);
//# sourceMappingURL=main.1c3fd22a.chunk.js.map